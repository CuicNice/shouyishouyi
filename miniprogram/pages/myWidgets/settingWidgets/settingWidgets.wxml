<!--pages/myWidgets/settingWidgets/settingWidgets.wxml-->
<!-- 组件设置页面 -->
<!-- 背景 -->
<view class="bg"></view>
<!-- 顶部的状态bar -->
<topBar title="{{settingWidgetTitle}}" immersion="{{true}}" Threshold="0.1">
  <view class="container">
    <!-- 顶部设置 -->
    <!-- 提示语 -->
    <!-- 需要做滑动，滑动消失 -->
    <view id="oldRemindBar" class="remindBox" bindtouchstart="remindBartouchStart" 
    catchtouchmove='remindTouchmove' bindtouchend="remindBartouchEnd">
      <view class="remindBoxDes">
        <view class="remindTxt">在这里，你可以自由选择你需要的小组件并进行排序，定制最适合你的个性化首义+页面！
        </view>
        <view class="markTxt">
          (注：此页面小组件数据为参考样式，非真实数据)</view>
      </view>
      <view class="remindIconBox">
        <image src="/static/svg/schoolBuilt/pillar.svg" class="remindIconSvg" mode="" />
      </view>
    </view>
    <!-- 主页小组件，与设置小组件切换区域 -->
    <!-- 点击切换样式灰底变绿底 -->
    <!-- 滑动后固定在头部的部分 -->
    <view class="{{!hiddenRemindBox ? 'settingTabBarBox' : ''}}" >
      <view class="settingTapBar">
        <!-- 左边主页组件 -->
        <view class="{{isChooseSeetingwidget?'greenWidgetSettingBox':'widgetSetteingBox'}}" bindtap="chooseSeetingWidget">
          <view class="{{isChooseSeetingwidget?'settingTabBoldText':'settingTabText'}}">
            <view class="text">
              主页小组件设置
            </view>
          </view>
        </view>
        <!-- 右边设置组件 -->
        <view class="{{!isChooseSeetingwidget?'greenWidgetSettingBox':'widgetSetteingBox'}}" bindtap="chooseIndexWidget">
          <view class="{{!isChooseSeetingwidget?'settingTabBoldText':'settingTabText'}}">
            <view class="text">
              小组件页面设置
            </view>
          </view>
        </view>
      </view>
      <!-- 设置保存区域 -->
      <view class="saveBar">
        <view class="saveText">
          长按右侧按钮拖动排序，分割线上方组件可展示
        </view>
        <button class="saveButton">
          <view class="saveButtonText" bindtap="saveSetting">
            保存设置
          </view>
        </button>
      </view>
    </view>

    <!-- 底部拖动区域 -->
    <movable-area  class="chooseItemsBox" id="oldRemindBar" >
      <!-- 小组件拖动区块 -->
      <block wx:for="{{tabList}}" wx:key="index" style="height: 1000px;" >
 
      <movable-view class="itemBox" y="{{item.y}}" style="height:{{item.width}}px;"
  class="item-{{index==moveId?'up':'down'}} item-bg-{{(index==nowItem && nowItem!= moveId)?'black':'write'}}" direction="vertical" 
  bind:touchmove='moveStatus' bindtouchend='moveEnd'  bind:longpress="onLongPress"
  data-moveid="{{index}}" disabled="{{!enable}}" animation="{{false}}">
        <!-- 左边组件区域 -->
        <view class="widgetBox">.
          <!-- title -->
          <view class="widgetTitle">{{item.name}}
          </view>
          <!-- 组件 -->
          <!-- 新闻组件 -->
          <image class="wedgetItemSvg" src="{{item.wedgetSvgUrl}}" mode=""/>

        </view>
        <!-- 右边按压区域 -->
        <view class="chooseTabBox">
          <image class="chooseTabSvg" src="/static/svg/myWidget/choose.svg" mode="" />
        </view>
      </movable-view>
    </block>
    </movable-area>>
    <!-- 分割线区域 -->
  </view>

</topBar>